"use strict";const e=require("fs").promises;module.exports=({filter:s,action:o},{services:a,database:r})=>{const{RolesService:n}=a;async function t(){console.log("Seeding roles...");const s=await async function(s){console.log(`Reading json file from ${s}`);var o=String(await e.readFile(s));return JSON.parse(o)}("../../../seeddata/roles.json");var o=new n;(await o.readByQuery()).length<=1?(console.log("Only one role exists, creating other roles..."),await o.upsertMany(s)):console.log("More than one role already exists, skipping seed...")}o("server.start",(async()=>{await t()}))};
